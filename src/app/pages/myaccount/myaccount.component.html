<section class="hero-wrap hero-wrap-2" style="background-image: url('assets/images/gamesch4.jpg');"
  data-stellar-background-ratio="0.5">
  <div class="overlay"></div>
  <div class="container">
    <div class="row no-gutters slider-text align-items-end justify-content-center">
      <div class="col-md-9  pb-5 text-center">
        <h1 class="mb-3 bread">My Account</h1>
        <p class="breadcrumbs"><span class="mr-2"><a href="javascript:void(0)">Home <i
                class="ion-ios-arrow-forward"></i></a></span> <span>My account <i
              class="ion-ios-arrow-forward"></i></span></p>
      </div>
    </div>
  </div>
</section>
<section class="ftco-section services-section bg-light">
  <div class="container">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="home"
          aria-selected="true">Profile</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="ticket-tab" data-toggle="tab" href="#ticket" role="tab" aria-controls="profile"
          aria-selected="false">My Ticket</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="hallbook-tab" data-toggle="tab" href="#hallbook" role="tab" aria-controls="hallbook"
          aria-selected="false">Sports Hall</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="changepaswd-tab" data-toggle="tab" href="#changepassword" role="tab"
          aria-controls="changepassword" aria-selected="false">Change Password</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="contact-tab" data-toggle="tab" href="javascript:void(0)" (click)="logout()" role="tab"
          aria-controls="contact" aria-selected="false">Logout</a>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab">
        <div class="row">
          <div class="col-lg-12">
            <form [formGroup]="myaccountForm">
              <input type="hidden" name="id" formControlName="id" />
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label>Name</label>
                    <input type="text" class="form-control" name="name" formControlName="name"
                      [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
                    <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
                      <div *ngIf="f.name.errors.required">Name is required</div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label>Email</label>
                    <input type="text" class="form-control" name="email" formControlName="email" disabled />
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label>Address</label>
                    <input type="text" class="form-control" placeholder="Address 1" name="address_one"
                      formControlName="address_one" [ngClass]="{ 'is-invalid': submitted && f.address_one.errors }" />
                    <span *ngIf="submitted && f.address_one.errors" class="invalid-feedback">
                      <div *ngIf="f.address_one.errors.required">
                        Address is required
                      </div>
                    </span>

                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label>Post Code</label>
                    <input type="text" class="form-control" placeholder="Post Code" name="postcode"
                      formControlName="postcode" [ngClass]="{ 'is-invalid': submitted && f.postcode.errors }" />
                    <span *ngIf="submitted && f.postcode.errors" class="invalid-feedback">
                      <div *ngIf="f.postcode.errors.required">
                        Postcode is required
                      </div>
                    </span>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label>Mobile</label>
                    <input type="text" class="form-control" name="mobile" formControlName="mobile"
                      (keypress)="numberOnly($event)" maxlength="11"
                      [ngClass]="{ 'is-invalid': submitted && f.mobile.errors }" />
                    <div *ngIf="submitted && f.mobile.errors" class="invalid-feedback">
                      <div *ngIf="f.mobile.errors.required">Mobile is required</div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label>Town</label>
                    <input type="text" class="form-control" placeholder="Town" name="town" formControlName="town"
                      [ngClass]="{ 'is-invalid': submitted && f.town.errors }" />
                    <span *ngIf="submitted && f.town.errors" class="help-block">
                      <span *ngIf="f.town.errors.required">
                        Town is required
                      </span>
                    </span>
                  </div>
                </div>
                <div class="col-lg-12">
                  <button class="login100-form-btn" (click)="updatemyaccount()">Update</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="ticket" role="tabpanel" aria-labelledby="ticket-tab">
        <div class="table responsive">
          <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-borderd row-border hover">
            <thead>
              <tr>
                <th>No</th>
                <!-- <th>User Name</th> -->
                <th>Match date</th>
                <th>Team One</th>
                <th>Team Two</th>
                <th>Ticket No</th>
                <th>Ticket Price</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let mt of myticketsarray;let i = index">
                <td>{{i + 1}}</td>
                <!-- <td>{{mt.username}}</td> -->
                <td>{{mt.matchdate}}</td>
                <td>{{mt.team_one}}</td>
                <td>{{mt.team_two}}</td>
                <td>{{mt.ticket}}</td>
                <td><i class="fas fa-pound-sign"></i> {{mt.ticket_price}}</td>
              </tr>
              <tr *ngIf="nomytickets">
                <td colspan="6" style="text-align: center;">
                  No data found
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="tab-pane fade show" id="changepassword" role="tabpanel" aria-labelledby="changepaswd-tab">
        <div class="row">
          <div class="col-lg-12">
            <form [formGroup]="changepasswordForm">
              <div class="row">
                <div class="col-lg-12">
                  <input type="hidden" name="user_id" formControlName="user_id" />
                  <div class="form-group">
                    <label>Current Password</label>
                    <input type="password" class="form-control" name="current_password"
                      formControlName="current_password" [ngClass]="{ 'is-invalid': submitted && c.current_password.errors }"/>
                      <div *ngIf="submitted && c.current_password.errors" class="invalid-feedback">
                        <div *ngIf="c.current_password.errors.required">Current Password is required</div>
                        </div>
                  </div>
                  <div class="form-group">
                    <label>New Password</label>
                    <input type="password" class="form-control" name="new_password" formControlName="new_password" [ngClass]="{ 'is-invalid': submitted && c.new_password.errors }"/>
                    <div *ngIf="submitted && c.new_password.errors" class="invalid-feedback">
                      <div *ngIf="c.new_password.errors.required">New Password is required</div>
                      <!-- <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters</div> -->
                      <div *ngIf="c.new_password.errors.pattern">New password must be 8 characters, 1 upper case letter, and 1 special character</div>
                  </div>
                  </div>
                  <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" class="form-control" name="confirm_password" formControlName="confirm_password" [ngClass]="{ 'is-invalid': submitted && c.confirm_password.errors }"/>
                      <div *ngIf="submitted && c.confirm_password.errors" class="invalid-feedback">
                        <div *ngIf="c.confirm_password.errors.required">Confirm Password is required</div>
                        </div>
                  </div>
                </div>
                <div class="col-lg-12">
                  <button class="login100-form-btn" (click)="updatpassword()">Update</button>
                </div>
              </div>
            </form>
          </div>

        </div>

      </div>
      <div class="tab-pane fade" id="hallbook" role="tabpanel" aria-labelledby="hallbook-tab">
        <div class="table responsive">
          <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-borderd row-border hover">
            <thead>
              <tr>
                <th>No</th>
                <!-- <th>User Name</th> -->
                <th>Booking Date</th>
                <th>Email</th>
                <th>Mobile</th>
                <th>Purpose</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let bd of bookhalldata;let i = index">
                <td>{{i + 1}}</td>
                <!-- <td>{{mt.username}}</td> -->
                <td>{{bd.booking_date}}</td>
                <td>{{bd.email}}</td>
                <td>{{bd.mobile}}</td>
                <td>{{bd.purpose}}</td>
              </tr>
              <tr *ngIf="nomybookhalldata">
                <td colspan="5" style="text-align: center;">
                  No data found
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>



  </div>
</section>